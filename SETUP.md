# Digital Garden Setup Complete! ðŸŒ±

Your experimental digital garden is ready. Here's how to get started.

## What's Been Set Up

âœ… Hugo + Little Ocean theme in `.site/`
âœ… Org-id for unbreakable links
âœ… Consult-based find/create with preview
âœ… Backlinks functionality
âœ… ox-hugo auto-export on save
âœ… Auto-commit and push (toggle-able)
âœ… Example notes ready to use

## Next Steps

### 1. Reload Your Emacs Configuration

Your Doom Emacs config has been updated with wiki functionality. Reload it:

```bash
# In your terminal
cd ~/dotfile
doom sync
doom reload

# Or in Emacs
M-x doom/reload
```

**Backup location:** `~/dotfile/dotfiles.org.backup-20251207-134815`

### 2. Test the Wiki Locally

Try the new wiki commands:

- `SPC n n` - Find or create a note (with live preview!)
- `SPC n G` - Search all notes with ripgrep (capital G)
- `SPC n I` - Insert an ID-based link to a file (capital I)
- `SPC n h` - Insert an ID-based link to a heading
- `SPC n b` - Show backlinks to current note
- `SPC n i` - Create an ID for current heading
- `SPC n g` - Go to a note by ID
- `SPC n p` - Manually git sync (commit + push)
- `SPC n A` - Toggle auto-sync on save (capital A)

**Note:** Org capture moved to `SPC n x` and goto target to `SPC n X`

### 3. Preview Your Site Locally

```bash
cd ~/wiki/.site
hugo server

# Visit http://localhost:1313
```

You'll see the Little Ocean theme with slide navigation!

### 4. Setup GitHub Repository

Create a new GitHub repository:

```bash
# Create repo on GitHub (name it "wiki")
# Then push your local repo:

cd ~/wiki
git remote add origin git@github.com:YOUR_USERNAME/wiki.git
git branch -M main
git push -u origin main
```

### 5. Deploy to Cloudflare Pages

1. Go to https://dash.cloudflare.com/
2. Click "Workers & Pages" â†’ "Create application" â†’ "Pages"
3. Connect to your GitHub account
4. Select your `wiki` repository
5. Configure build settings:
   - **Framework preset:** Hugo
   - **Build command:** `cd .site && hugo --minify`
   - **Build output directory:** `.site/public`
6. Click "Environment variables" â†’ Add:
   - **Variable name:** `HUGO_VERSION`
   - **Value:** `0.152.2`
7. Click "Save and Deploy"

Your site will build and deploy automatically! ðŸš€

### 6. Update Your Site URL

After deployment, update the `baseURL` in `.site/config.toml`:

```toml
baseURL = "https://wiki-YOUR_PAGES_ID.pages.dev/"
```

## How to Use Your Digital Garden

### Writing Notes

1. Press `SPC n n` and type a note name
2. If it doesn't exist, it creates a new note with:
   - Title from filename
   - Current date
   - Unique org-id (for unbreakable links)
3. Write in Org mode as usual
4. Save the file â†’ ox-hugo auto-exports to Hugo

### Linking Notes

**For file links:**
1. Press `SPC n I`
2. Select the note (with preview)
3. An `id:UUID` link is inserted

**For heading links:**
1. Press `SPC n h`
2. Navigate to the heading
3. ID link to that specific heading is inserted

**Why ID links?** They never break! Rename files, reorganize headingsâ€”links always work.

### Publishing Workflow

**Automatic (enabled by default)**
- Every save â†’ export â†’ commit â†’ push â†’ deploy
- True "work in public" experience
- Disable with `SPC n A` if you want manual control

**Manual (optional)**
- Disable auto-sync with `SPC n A`
- Write notes, save them locally
- When ready: `SPC n p` to commit & push
- Cloudflare Pages auto-builds

### Finding Backlinks

Press `SPC n b` in any note to see all notes that link to it. Uses ripgrep to search for the current note's ID across all files.

## File Structure

```
~/wiki/
â”œâ”€â”€ *.org              # Your notes (write here!)
â”œâ”€â”€ images/            # Attachments
â”œâ”€â”€ .site/             # Hugo build (don't edit directly)
â”‚   â”œâ”€â”€ content/       # Auto-generated by ox-hugo
â”‚   â”œâ”€â”€ public/        # Built site (git-ignored)
â”‚   â””â”€â”€ config.toml    # Hugo configuration
â”œâ”€â”€ .dir-locals.el     # ox-hugo auto-export config
â””â”€â”€ README.org         # Homepage content
```

## Features You Get

### From Org Mode + org-id
- âœ… Unbreakable links (rename freely!)
- âœ… Link to files or specific headings
- âœ… Backlinks via ID search
- âœ… Consult preview when finding notes

### From Little Ocean Theme
- âœ… **Slide navigation** (Andy Matuschak style!)
- âœ… Hover previews on links
- âœ… Automatic backlinks on web
- âœ… Full-text search at `/search`
- âœ… Mobile-responsive

### From ox-hugo
- âœ… Auto-export on save
- âœ… Org mode â†’ clean HTML
- âœ… Front matter auto-generated

## Customization

### Theme Colors/Fonts

Edit `.site/config.toml` â†’ `[params.styles]` section. See all available options commented out.

### Hugo Config

The Little Ocean theme uses sensible defaults. You can customize:
- Colors (dark mode, light mode)
- Fonts
- Preview popup size
- Backlink styling

### Emacs Functions

All wiki functions are in `~/dotfile/dotfiles.org` under `*** Wiki`. Each function is ~10-20 linesâ€”easy to customize!

## Troubleshooting

**"Command not found: wiki/find-note"**
- Run `doom sync && doom reload` to load new config

**"No ID found for current entry"**
- Press `SPC n i` to create an ID for the current heading/file

**"Hugo build fails"**
- Check `.site/public/` is gitignored (it is)
- Run `hugo --source ~/wiki/.site` to see errors

**"Cloudflare Pages build fails"**
- Verify `HUGO_VERSION` environment variable is set
- Check build command: `cd .site && hugo --minify`
- Check output directory: `.site/public`

## What's Different from Denote?

| Feature | Denote (`~/denote/`) | Wiki (`~/wiki/`) |
|---------|---------------------|------------------|
| **Purpose** | Private notes, structured | Public digital garden |
| **Linking** | File-based with denote IDs | org-id (files + headings) |
| **Publishing** | Hugo with your current setup | Little Ocean theme |
| **Navigation** | Denote's file naming | Slide navigation on web |
| **Keybindings** | `SPC d` | `SPC n` |
| **Philosophy** | Organized, tagged notes | Experimental, work in public |

Both systems coexist independently!

## Tips for Digital Gardening

1. **Start small:** Write rough notes, publish early
2. **Link liberally:** Connect related ideas as you go
3. **Iterate often:** Return to notes and expand them
4. **Embrace imperfection:** Publish drafts and WIP
5. **Work in public:** Auto-sync is on by default - every save goes live!

## Next: Try It Out!

1. Press `SPC n n` and create your first note
2. Add some content and org-id links
3. Save and watch it export to Hugo
4. Run `hugo server` to preview locally
5. When ready, push to GitHub and deploy!

Happy gardening! ðŸŒ±
